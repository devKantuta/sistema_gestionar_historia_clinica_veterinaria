

<app-nav></app-nav>
<section class="container_gral">
  <!-- {{formNewData.value|json}} -->
  <div class="container_raza">
    <!-- FORMULARIO DE NEW o ADD -->
    <div class="container_new_raza" *ngIf="onShowComponentRaza">
      <button type="button" class="btn_close" (click)="closeForm()" >X</button>
      <h2 class="title_new_raza">Agregar Empleado</h2>

      <form class="form_raza" [formGroup]="formNewData" (ngSubmit)="submitDataForm()">

        <div class=" box_input">
          <label for="nombre">Nombre</label>
          <input type="text"  id="nombre" formControlName="nombre" >
        </div>
        <div class=" box_input">
          <label for="direccion">Direccion</label>
          <input type="text"  id="direccion" formControlName="direccion" >
        </div>
        <div class=" box_input">
          <label for="celular">Telefono</label>
          <input type="text"  id="celular" formControlName="celular" >
        </div>
        <div class=" box_input">
          <label for="correo">Email</label>
          <input type="text"  id="correo" formControlName="correo" >
        </div>
        
        <div class=" box_input">
          <label for="fecha_reg">Fecha</label>
          <input type="date"  id="fecha_reg" formControlName="fecha_reg" >
        </div>
        <!-- caja de selectores -->
        <div class="box_selected">
          <div class=" box_input">
            <label for="sexo">
              Sexo: 
              <select name="sexo" id="sexo" formControlName="sexo">
                <option value="" [selected]="ok" disabled>seleccione</option>
                <option value="femenino" >Femenino</option>
                <option value="masculino">Masculino</option>
              </select>
            </label>
          </div>
          <div class=" box_input">
            <label for="rol">
              rol: 
              <select name="rol" id="rol" formControlName="rol">
                <option value="" [selected]="ok" disabled>seleccione</option>
                <option value="" [disabled]="ok"  >cliente</option>
                <option value="empleado">empleado</option>
                <option value="" [disabled]="ok" >veterianario</option>
              </select>
            </label>
          </div>
          
        </div>
        <div class=" box_input">
          <label for="turno">Turno
            <select name="turno" id="turno" formControlName="turno" >
              <option value="" [selected]="ok" disabled>seleccione</option>
              <option value="{{turno.id}}" *ngFor="let turno of listDataTurnos" >{{turno.nombre}}</option>
            </select>
          </label>
          
        </div>
        
          

        <!-- Validaciones de los campos -->
        <div class="message_error" 
        [hidden]="(nombre?.valid || nombre?.pristine) && 
                  (direccion?.valid ||direccion?.pristine)&&
                  (celular?.valid ||celular?.pristine)&&
                  (sexo?.valid ||sexo?.pristine)&&
                  (rol?.valid ||rol?.pristine)&&
                  (turno?.valid ||turno?.pristine)&&
                  (fecha_reg?.valid ||fecha_reg?.pristine)
                  ">
          Rellene todos los camposüßê..!
        </div>
  
        <button type="submit" class="btn btn-primary btn_new_raza" [disabled]="formNewData.invalid">
          Guardar
        </button>
      </form>
    
    </div>
    <!-- FORM TO UPDATE RAZA -->
    <div class="container_new_raza" *ngIf="showUpdateComponent">
      <button type="button" class="btn_close" (click)="closeFormRazaUpdate()" >X</button>
      <h2 class="title_new_raza">Editar Cliente</h2>

      <form class="form_raza" [formGroup]="formNewData" (ngSubmit)="submitUpdateData()">
        
        <div class=" box_input">
          <label for="nombre">Nombre</label>
          <input type="text"  id="nombre" formControlName="nombre" >
        </div>
        <div class=" box_input">
          <label for="direccion">Direccion</label>
          <input type="text"  id="direccion" formControlName="direccion" >
        </div>
        <div class=" box_input">
          <label for="celular">Telefono</label>
          <input type="text"  id="celular" formControlName="celular" >
        </div>
        <div class=" box_input">
          <label for="correo">Email</label>
          <input type="text"  id="correo" formControlName="correo" >
        </div>
        
        <div class=" box_input">
          <label for="fecha_reg">Fecha</label>
          <input type="date"  id="fecha_reg" formControlName="fecha_reg" >
        </div>
        <!-- caja de selectores -->
        <div class="box_selected">
          <div class=" box_input">
            <label for="sexo">
              Sexo: 
              <select name="sexo" id="sexo" formControlName="sexo">
                <option value="" [selected]="ok" disabled>seleccione</option>
                <option value="femenino" >Femenino</option>
                <option value="masculino">Masculino</option>
              </select>
            </label>
          </div>
          <div class=" box_input">
            <label for="rol">
              rol: 
              <select name="rol" id="rol" formControlName="rol">
                <option value="" [selected]="ok" disabled>seleccione</option>
                <option value="" [disabled]="ok"  >cliente</option>
                <option value="empleado">empleado</option>
                <option value="" [disabled]="ok" >veterianario</option>
              </select>
            </label>
          </div>
          
        </div>
        <div class=" box_input">
          <label for="turno">Turno
            <select name="turno" id="turno" formControlName="turno" >
              <!-- <option value="" selected>Seleccion</option> -->
              <option value="{{turno.id}}" *ngFor="let turno of listDataTurnos" >{{turno.nombre}}</option>
            </select>
          </label>
          
        </div>
          

        <!-- Validaciones de los campos -->
        <div class="message_error" 
        [hidden]="(nombre?.valid || nombre?.pristine) && 
                  (direccion?.valid ||direccion?.pristine)&&
                  (celular?.valid ||celular?.pristine)&&
                  (sexo?.valid ||sexo?.pristine)&&
                  (rol?.valid ||rol?.pristine)&&
                  (turno?.valid ||turno?.pristine)&&
                  (fecha_reg?.valid ||fecha_reg?.pristine)
                  ">
          Rellene todos los camposüßê..!
        </div>
          


   
        <button type="submit" class="btn btn-primary btn_new_raza" [disabled]="formNewData.invalid">
          Guardar
        </button>
      </form>
    
    </div>

    <!-- CONTENIDO DE LA TABLA -->
    <div class="content_raza">
      <div class="box_search">
        <!-- BOTON ADD -->
        <button class="btn btn_add" (click)="btnAddData()">Agregar</button>
        <!-- CONTENIDO DEL INPUT SEARCH -->
        <div class="search">
          <input class="form-control input_search" 
            type="search" 
            placeholder="Search" 
            aria-label="Search"
            [(ngModel)]="textSearch"
          >
          <ion-icon name="search" class="icon"></ion-icon>
        </div>
      </div>

      <h2 class="title_raza">EMPLEADOS</h2>
  
      <table class="table table-bordered">
        <!-- Encabezado de la tabla -->
          <thead class="table_head">
            <tr>
              <th scope="col" class="th_id">CI</th>
              <th scope="col" class="th_id">Nombre</th>
              <th scope="col" class="th_id">Sexo</th>
              <th scope="col" class="th_id">Direccion</th>
              <th scope="col" class="th_id">Telefono</th>
              <th scope="col" class="th_id">Email</th>
              <th scope="col" class="th_id">Turno</th>
              <th scope="col" class="th_id">Fecha</th>
              <th scope="col" class="th_id">Setting</th>
            </tr>
          </thead>
          <!-- Cuerpo de la tabla -->
          <tbody >
            <tr *ngFor="let data of listData | filter:textSearch" >
              <th scope="row" class="th_id_1">{{data.id}}8570</th>
              <td colspan="1" class="td_row">{{data.nombre}}</td>
              <td colspan="1" class="td_row">{{data.sexo}}</td>
              <td colspan="1" class="td_row">{{data.direccion}}</td>
              <td colspan="1" class="td_row">{{data.celular}}</td>
              <td colspan="1" class="td_row">{{data.correo}}</td>
              <td colspan="1" class="td_row">{{data.turno}}</td>
              <td colspan="1" class="td_row">{{data.fecha_reg | date:"shortDate"}}</td>
              <!-- botones setting -->
              <td class="box_btn">
                <button class="btn btn_reload" (click)="btnUpdateDataIcon(data)">
                  <ion-icon name="sync"></ion-icon>
                </button>
                <button class="btn btn_red" (click)="deleteDataTable(data.id)">
                  <ion-icon name="trash-outline"></ion-icon>
                </button>
              </td>
            </tr>
          </tbody>
      </table>
  </div>
    <!-- {{formNewData.value | json}} -->
  </div>


</section>
